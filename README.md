Описание проекта:
Проект представляет собой упрощенную мини-версию банковской системы,которая позволяет:
    -Управлять клиентами, счетами + логи транзакций
    -Добавлять/удалять банки
    -Блокировать/разблокировать счета
    
![alt text](<Sequence Diagram (2)-1.jpeg>)
[UML-диаграмма последовательности. Процесс открытия счёта]
![alt text](<Sequence Diagram3-1.jpeg>)
[UML-диаграмма последовательности. Процесс перевода на другой банк] (не реализовано)
![alt text](<Class Diagram1 (2).jpeg>)
[UML-диаграмма классов. Архитектура самого проекта]
Этап 1. Проектирование системы
1.Какую проблему решает?
    - Решает проблему управления банковскими продуктами, а также клиентами и их   данными.

2. Какие ключевые функции она предоставляет?
    1. Управление клиентами (регистрация + хранение данных)
    2. Управление счетами (Создание, обслуживание, начисление процентов и комиссий)
    3. Администрирование (управлением банками, контроль доступа метеджеров)

3. Какие диаграммы вы выбрали и почему?
    - Выбрал диаграмм классов + последовательности.
    Выбрал диаграмму последовательности потому что она показывает, как объекты взаимодействуют друг с другом.
    А диаграмму классов из-за того, что она отображает ключевые сущности, их атрибуты + методы + взаимосвязи.

4. Как эти диаграммы помогают понять архитектуру вашего приложения?
    - Диаграмма последовательности :  показывает последовательность шагов(например при переводе денег), то есть динамическое поведение системы при каком-то сценарии.
    -Диаграмма классов : Она помогает понять, как элементы кода организованы, какие классы связаны и какова их роль в системе

Этап 2. База Данных Банковской системы
Предназначена для управления клиентами, счетами, транзакциями и сотрудниками банковской системы.
СУБД: PostgreSQL

<br>Admin --> Учетные данные администраторов системы</br>
<br>Bank --> Информация о банках и их тарифах (ставки по депозитам/кредитам)</br>
<br>Manager --> Данные менеджеров банка с уровнями доступа</br>
<br>Client --> Персональные данные клиентов</br>
<br>Account --> Базовые данные о счетах (дебетовых, депозитных, кредитных)</br>
<br>DebitAccount --> Доп. параметры дебетовых счетов</br>
<br>DepositAccount --> Доп. параметры депозитных счетов</br>
<br>CreditAccount --> Доп. параметры кредитных счетов</br>
<br>Transaction --> История всех финансовых операций</br>
<br>//ManagerClient --> Связь "многие ко многим" между менеджерами и клиентами//</br>
-----------------------------------
Виды связи:

1 к 1:
    Account(Базовый класс) к DebitAccount, CreditAccount, DepositAccount

1 к многим:
    Client к Account(Тк у 1 клиента может быть больше 1 счёта)
    Bank к Manager (Тк у банка может быть больше 1 менеджера)
    Bank к Client (У 1 банка может быть несколько клиентов)

-----------------------------------
Primary key:
    Adminid,
    Clientid,
    Bankid,
    AccountID и тд.

    
foreign key:
    clientid в Account
    bankid в Manager
    
-----------------------------------
unique-поля:
    emailadmin,
    PassportNumber,
    PassortSeries  и тд

## Этап 3. Основные команды

### **BankService**
- **AddBankAsync**  
  Добавляет новый банк в таблицу `bank`.
- **DeleteBankAsync**  
  Удаляет банк из БД, если с ним не связаны клиенты или менеджеры.
- **GetBankByIdAsync**  
  Получает информацию о банке по его ID.
- **GetAllBanksAsync**  
  Возвращает список всех банков.

### **ClientService**
- **RegisterClientAsync**  
  Регистрирует нового клиента в таблице `client`.
- **GetClientByIdAsync**  
  Получает информацию о клиенте по его ID.
- **GetAllClientsAsync**  
  Возвращает список всех клиентов.

### **AccountService**
- **CreateAccountAsync**  
  Создает новый счет (дебетовый, кредитный или депозитный).
- **BlockAccountAsync**  
  Блокирует счет по ID (устанавливает статус `frozen`).
- **UnblockAccountAsync**  
  Разблокирует счет по ID (устанавливает статус `active`).
- **DepositMoneyAsync**  
  Пополняет баланс счета и создает запись о транзакции.
- **WithdrawMoneyAsync**  
  Снимает средства со счета (если достаточно баланса) и создает запись о транзакции.
- **GetAccountByIdAsync**  
  Получает информацию о счете по его ID.
- **GetClientAccountsAsync**  
  Возвращает список всех счетов клиента.

---

## Этап 4. Структура слоя работы с БД

### **Сервисы**
1. **BankService**  
   Работает с таблицей `bank`. Предоставляет методы для:
   - Добавления банков.
   - Удаления банков.
   - Получения информации о банках.

2. **ClientService**  
   Работает с таблицей `client`. Предоставляет методы для:
   - Регистрации клиентов.
   - Получения информации о клиентах.

3. **AccountService**  
   Работает с таблицами:
   - `account` (основная таблица счетов).
   - `debitAccount` (дебетовые счета).
   - `depositAccount` (депозитные счета).
   - `creditAccount` (кредитные счета).  
   Предоставляет методы для:
   - Создания счетов.
   - Блокировки/разблокировки счетов.
   - Пополнения/снятия средств.

### **Модели**
- **Bank**  
  Свойства: `BankId`, `Name`, `DepositRate`, `CreditFee`, `CreatedAt`, `UpdatedAt`.
- **Client**  
  Свойства: `ClientId`, `FirstName`, `LastName`, `Age`, `Address`, `PassportSeries`, `PassportNumber`, `BankId`, `CreatedAt`, `UpdatedAt`.
- **Account**  
  Свойства: `AccountId`, `ClientId`, `Balance`, `InterestRate`, `AccountType`, `Status`, `CreatedAt`, `UpdatedAt`.

### **Подключение к БД**
Используется библиотека **Npgsql** для работы с PostgreSQL.  
Строка подключения:
```plaintext
Host=localhost;Port=5432;Database=postgres;Username=postgres;Password=159753521;
```
Также все методы сервисов являются фсинхронными (async / await), для ускорения выполнения обращений к БД.

Этап 5. Реализация бизнес-слоя

Данный проект был выполнен с использованием трехслойной архитектуры.








    
